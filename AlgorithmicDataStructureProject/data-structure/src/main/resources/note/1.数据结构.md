# æ•°æ®ç»“æ„

ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„ï¼š

1. æ•°æ®ç»“æ„æ˜¯å­˜æ”¾ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ï¼›
2. æ•°æ®ç»“æ„æ˜¯ç®—æ³•è®¾è®¡çš„åŸºç¡€ï¼›
3. å¥½çš„æ•°æ®ç»“æ„å¯ä»¥æå‡ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Œå’Œå­˜å‚¨æ•ˆç‡ï¼›

# åŸºæœ¬çš„æ•°æ®ç»“æ„

## æ•°ç»„

åœ¨å†…å­˜ä¸­è¡¨ç°ä¸ºè¿ç»­çš„å­˜å‚¨ç»“æ„ã€‚å› æ­¤ä¾¿äºå¯»å€ï¼Œä¸ä¾¿äºå¢åˆ æ•°æ®ã€‚

### å‰ç¼€å’Œ

å‰ç¼€å’Œæ˜¯ä¸€ç§é‡è¦çš„é¢„å¤„ç†ï¼Œèƒ½å¤§å¤§é™ä½æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ã€‚å‰ç¼€å’Œåˆ†ä¸º**ä¸€ç»´å‰ç¼€å’Œ**å’Œ**äºŒç»´å‰ç¼€å’Œ**ã€‚

### ä¸€ç»´å‰ç¼€å’Œ

ç»™å®šä¸€ä¸ªæ•°ç»„A[1,2,â€¦â€¦n]ï¼Œåˆ™å®ƒçš„å‰ç¼€å’Œæ•°ç»„ä¸ºPrefixSum[1..n]ã€‚å®šä¹‰ä¸ºï¼šPrefixSum[i] = A[0]+A[1]+...+A[i-1]ï¼›

ä¸¾ä¸ªä¾‹å­ï¼š

A[5,6,7,8] --> PrefixSum[5,11,18,26]

PrefixSum[0] =A[0] ;

PrefixSum[1] =A[0] + A[1] ;

PrefixSum[2] =A[0] + A[1] + A[2] ;

PrefixSum[3] =A[0] + A[1] + A[2] + A[3] ;
ç”¨æ³•å¦‚ä¸‹ï¼š

1. å¯ä»¥é€šè¿‡å‰ç¼€å’Œæ±‚å‡ºä»»æ„åŒºé—´çš„æ±‚å’Œå€¼ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³æ±‚å‡º[1,2]åŒºé—´å†…çš„æ±‚å’Œå€¼ï¼Œå³s[2]-s[0]=[5,34]=29

ä»£ç å®ç°ï¼š

```java
public class PrefixSumDemo {
    
    private static int[] preSum;
    
    public static void buildPrefixRangSum(int[] arr) {
        int N = arr.length;
        preSum = new int[N];
        preSum[0] = arr[0];
        
        for (int i = 1; i<N; i++) {
            preSum[i] = preSum[i - 1] + arr[i];
        }
    }
    
    public static int prefixRangeSum(int L, int R) {
        return L == 0 ? preSum[L] : preSum[R] - preSum[L - 1];
    }
}
```

### äºŒç»´å‰ç¼€å’Œ

åœ¨æ•°æ®é‡æå¤§çš„æƒ…å†µä¸‹ï¼ŒäºŒç»´å‰ç¼€æŸ¥æ•ˆç‡è¦é«˜äºä¸€ç»´å‰ç¼€å’Œã€‚

ä¸¾ä¸ªğŸŒ°

arr[1,5,3]

äºŒç»´å‰ç¼€å’Œæ„å»ºç»“æœå¦‚ä¸‹ï¼š
$$
\begin{bmatrix}
   1 & 6 & 9 \\
   x & 5 & 8 \\
   x & x & 3
  \end{bmatrix} \tag{4}
$$
ç›¸æ¯”äºä¸€ç»´å‰ç¼€å’Œï¼ŒäºŒç»´å‰ç¼€å’Œå¯ä»¥ç›´æ¥å–ä¹‹ï¼Œä¸ç”¨è¿›è¡Œè®¡ç®—ï¼Œè¿™ä¹Ÿæ˜¯äºŒç»´å‰ç¼€å’Œåœ¨æ•°æ®é‡æå¤§çš„æƒ…å†µä¸‹æ¯”ä¸€ç»´å‰ç¼€å’Œé«˜æ•ˆçš„åŸå› ã€‚

ä»£ç å®ç°ï¼š

```java
public class PrefixSumDemo {

    private static int[] oneDimensionalPreSum;

    private static int[][] twoDimensionalPreSum;

    /**
     * æ„å»ºä¸€ç»´å‰ç¼€å’Œ
     *
     * @param arr
     */
    public static void buildOneDimensionalPrefixRangSum(int[] arr) {
        int N = arr.length;
        oneDimensionalPreSum = new int[N];
        oneDimensionalPreSum[0] = arr[0];

        for (int i = 1; i < N; i++) {
            oneDimensionalPreSum[i] = oneDimensionalPreSum[i - 1] + arr[i];
        }
    }

    // ä¸€ç»´å‰ç¼€ç”¨æ³•
    public static int oneDimensionalPrefixRangeSum(int L, int R, int length) {
        if (L>length || R > length) {
            return 0;
        }
        return L == 0 ? oneDimensionalPreSum[L] : oneDimensionalPreSum[R] - oneDimensionalPreSum[L - 1];
    }

    public static void buildTwoDimensionalPrefixRangSum(int[] arr) {
        int N = arr.length;
        twoDimensionalPreSum = new int[N][N];
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (i == 0 && j == 0) {
                    twoDimensionalPreSum[0][0] = arr[0];
                    continue;
                } else if (j < i) {
                    continue;
                }
                twoDimensionalPreSum[i][j] = twoDimensionalPreSum[i][j - 1] + arr[j];
            }
        }
    }
    
    // äºŒç»´å‰ç¼€å’Œç”¨æ³•
    public static int twoDimensionalPrefixRangSum(int L, int R, int length) {
        if (L>length || R > length) {
            return 0;
        }
        return twoDimensionalPreSum[L][R];
    }

    public static void main(String[] args) {
        int[] arr = new int[]{1, 4, 6, 7};
        buildTwoDimensionalPrefixRangSum(arr);
        System.out.println(twoDimensionalPrefixRangSum(0,5, arr.length));
    }
}
```



## é“¾è¡¨

åœ¨å†…å­˜ä¸­è¡¨ç°ä¸ºä¸è¿ç»­çš„å­˜å‚¨ç»“æ„ã€‚å› æ­¤ä¾¿äºå¢åˆ æ•°æ®ï¼Œä¸ä¾¿äºå¯»å€ã€‚

## éšæœºå‡½æ•°

åœ¨ Java ä¸­çš„éšæœºå‡½æ•°æ˜¯ `Math.random()`ã€‚è¯¥å‡½æ•°ä¼šç­‰æ¦‚ç‡çš„éšæœºè¿”å›ä¸€ä¸ª[0,1) çš„æ•°ã€‚åœ¨æ•°å­¦ä¸­ï¼Œç­‰æ¦‚ç‡æ˜¯ä¸å¯èƒ½çš„ï¼Œä½†æ˜¯åœ¨è®¡ç®—æœºä¸­ï¼Œå°æ•°æ˜¯æœ‰ç²¾åº¦çš„ï¼Œæ•°å­¦ä¸­æ˜¯æ²¡æœ‰çš„ã€‚éªŒè¯å¦‚ä¸‹ï¼š

```java
/**
 * éªŒè¯ Math.random() çš„ç­‰æ¦‚ç‡
 */
public class MathRandomDemo {
    public static void main(String[] args) {
        int count = 0;
        int loopCount = 1000;
        for (int i=0; i<loopCount; i++) {
            double random = Math.random();
            if (random < 0.3) {
                count++;
            }
        }
        System.out.println((double)count /( double) loopCount);
        
        int K = 9;
        // ans åœ¨ [0,8] å¿…ç„¶æ˜¯ç­‰æ¦‚ç‡çš„
        int[] record = new int[9];
        for (int i=0; i<loopCount; i++) {
            int ans = (int) (Math.random() * K);
            record[ans]++;
        }
        
        for (int i=0; i<K; i++) {
            System.out.println(i + " å‡ºç°äº†" + record[i] + " æ¬¡");
        }
    }
}
```

è¾“å‡ºç»“æœï¼š

```txt
0.275
0 å‡ºç°äº†103 æ¬¡
1 å‡ºç°äº†107 æ¬¡
2 å‡ºç°äº†126 æ¬¡
3 å‡ºç°äº†117 æ¬¡
4 å‡ºç°äº†115 æ¬¡
5 å‡ºç°äº†106 æ¬¡
6 å‡ºç°äº†107 æ¬¡
7 å‡ºç°äº†108 æ¬¡
8 å‡ºç°äº†111 æ¬¡
```

 æ ¹æ®è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œ[0,8] å‡ºç°çš„æ¬¡æ•°åŸºæœ¬å·®ä¸å¤ªå¤šã€‚ç”±æ­¤å¯ä»¥å¾—å‡ºï¼Œ[0,x]ï¼Œxå‡ºç°çš„æ¦‚ç‡å°±æ˜¯ xï¼Œé‚£æ­¤æ—¶æƒ³è®© [0,x] ï¼Œx å‡ºç°çš„æ¦‚ç‡æ˜¯ x^2ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ

```java
/**
 * Math.random çš„å–å€¼ä¸º[0,1)
 * x å±äº [0,1)ï¼Œå¦‚ä½•å°† x åœ¨ [0,1) å‡ºç°çš„æ¦‚ç‡ç”± x è°ƒæ•´ä¸º x^2
 */
public class MathPowerRandom {

    public static void main(String[] args) {
        int count = 0;
        int loopCount = 10000;
        
        double x = 0.17;
        for (int i=0; i<loopCount; i++) {
            if (xToXThreePower() < x) {
                count++;
            }
        }

        System.out.println((double) count / (double) loopCount);
        System.out.println(Math.pow(x, 3));
    }
    
    // Math.random å€¼å±äº [0,1)ï¼Œ
    // x å±äº [0,1)ï¼Œå°† x åœ¨ [0,1) å‡ºç°çš„æ¦‚ç‡ç”±åŸæ¥çš„ x è°ƒæ•´ä¸º x^2
    public static double xToXPower() {
        // æ¯ä¸ª Math.random() éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œè°ƒç”¨äº†ä¸¤æ¬¡ Math.random()ï¼Œåªæœ‰ä¸¤æ¬¡éƒ½å‘½ä¸­
        // è¿™ä¸ªèŒƒå›´ï¼Œé‚£ä¹ˆæœ€ç»ˆè¿”å›çš„èŒƒå›´æ‰æ˜¯ [0,x]ã€‚ç¬¬ä¸€ä¸ªæ¦‚ç‡æ˜¯ xï¼Œç¬¬äºŒä¸ªä¹Ÿæ˜¯ xï¼Œx^2
        return Math.max(Math.random(), Math.random());
    }
    
    // é‚£ä¹ˆ x^3 å°±æ˜¯
    public static double xToXThreePower() {
        return Math.max(Math.random(), Math.max(Math.random(), Math.random()));
    }
}
```

è¾“å‡ºç»“æœ

```txt
0.0044
0.004913000000000001
```

ç»“æœå¾ˆç›¸è¿‘ã€‚

é‚£ä¹ˆç”¨ `Math.min()`æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ

é¦–å…ˆç¡®å®šå¾—åˆ° x çš„æ¦‚ç‡æ˜¯ xï¼Œé‚£ä¹ˆæ²¡æœ‰å¾—åˆ° x çš„æ¦‚ç‡å°±æ˜¯ 1-xï¼Œé‚£ä¹ˆå¾—ä¸åˆ° x^2 çš„æ¦‚ç‡å°±æ˜¯ (1-x)^2ï¼Œ é‚£ä¹ˆ x^2 çš„æ¦‚ç‡å°±æ˜¯ 1 - (1-x)^2ã€‚æ‰€ä»¥ï¼š

```java
public class MathPowerRandom {

    public static void main(String[] args) {
        int count = 0;
        int loopCount = 10000;
        
        double x = 0.17;
        for (int i=0; i<loopCount; i++) {
            if (xToXPowerMin() < x) {
                count++;
            }
        }

        System.out.println((double) count / (double) loopCount);
        System.out.println((double) 1- Math.pow((double) 1-x, 2));
    }
  
  	public static double xToXPowerMin() {
        return Math.min(Math.random(), Math.random());
    }
}
```

è¾“å‡ºç»“æœ

```txt
0.3198
0.31110000000000004
```

## å®ç° 1-5 éšæœºç­‰æ¦‚ç‡åˆ° 1-7 ç­‰æ¦‚ç‡éšæœº

è§„å®šä½¿ç”¨ f() å‡½æ•°å®ç° 1- 5 çš„ç­‰æ¦‚ç‡éšæœºï¼Œç„¶ååˆ©ç”¨ f() å‡½æ•°å®ç° 1-7 çš„ç­‰æ¦‚ç‡éšæœºã€‚( åªèƒ½ä½¿ç”¨f() å‡½æ•°å®ç°ï¼Œç›¸å½“äºä¸€ä¸ªå°è£…å¥½çš„ jar åŒ…)ã€‚

é¦–å…ˆç¬¬ä¸€æ­¥å®ç° 1-5 çš„ç­‰æ¦‚ç‡éšæœº

```java
// é¦–å…ˆç¬¬ä¸€æ­¥å®ç° 1-5 çš„ç­‰æ¦‚ç‡éšæœº
// å°è£…ä¸€ä¸ªåº•å±‚å‡½æ•°
public static int f1() {
  return (int)(Math.random() * 5) + 1;
}
```

æ¥ç€å®ç° 0ï¼Œ1 ç­‰æ¦‚ç‡ã€‚æ„å»ºä¸€ä¸ªäºŒè¿›åˆ¶

```java
// æ¥ç€åˆ©ç”¨è¯¥å‡½æ•°å®ç°ä¸€ä¸ª 0ï¼Œ1 çš„ç­‰æ¦‚ç‡éšæœº
public static int f2() {
  int ans;
  do {
    ans = f1();
  } while (ans==3);
  // å°† 1 2 3 4 5 ä»¥ 3 ä¸ºåˆ†å‰²ï¼Œ1 2 ä¸º 0ï¼Œ 4 5 ä¸º 6
  return ans < 3 ? 0 : 1;
}
```

äºæ˜¯æˆ‘ä»¬å¯ä»¥æ„å»ºå‡º [0,7] çš„ç­‰æ¦‚ç‡éšæœº

```java
// æ ¹æ®ä¸Šé¢ 0ï¼Œ1 ç­‰æ¦‚ç‡å‡½æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ„å»ºå‡º [0,7] ç­‰æ¦‚ç‡
// 111 å°±æ˜¯ 7
public static int f3() {
  return (f2()<<2) + (f2()<<1) + f2();
}

private static void testP2() {
  int[] count = new int[8];
  int loopCount = 1000000;
  for (int i=0; i<loopCount; i++) {
    int ans = f3();
    count[ans]++;
  }

  for (int i=0; i<count.length; i++) {
    System.out.println("ç¬¬" + i + "æ•°å‡ºç°äº† " + count[i] + "æ¬¡");
  }
}
```

è¾“å‡ºç»“æœï¼š

```txt
ç¬¬0æ•°å‡ºç°äº† 124910æ¬¡
ç¬¬1æ•°å‡ºç°äº† 124921æ¬¡
ç¬¬2æ•°å‡ºç°äº† 125380æ¬¡
ç¬¬3æ•°å‡ºç°äº† 124927æ¬¡
ç¬¬4æ•°å‡ºç°äº† 125030æ¬¡
ç¬¬5æ•°å‡ºç°äº† 124765æ¬¡
ç¬¬6æ•°å‡ºç°äº† 125283æ¬¡
ç¬¬7æ•°å‡ºç°äº† 124784æ¬¡
```

åŸºäº f3 æˆ‘ä»¬å¯ä»¥æ„å»ºå‡ºåŸºäº [0,6] çš„ç­‰æ¦‚ç‡éšæœº

```java
// äºæ˜¯æˆ‘ä»¬å¯ä»¥æ ¹æ® f3 æ¨å¯¼å‡º [0,6] çš„ç­‰æ¦‚ç‡
public static int f4() {
  int ans = 0;
  do {
    ans = f3();
    // é‡åˆ° 7 å°±ç»§ç»­å¾ªç¯
  } while (ans == 7);
  return ans;
}

private static void testP2() {
  int[] count = new int[8];
  int loopCount = 1000000;
  for (int i=0; i<loopCount; i++) {
    int ans = f4();
    count[ans]++;
  }

  for (int i=0; i<count.length; i++) {
    System.out.println("ç¬¬" + i + "æ•°å‡ºç°äº† " + count[i] + "æ¬¡");
  }
}
```

 è¾“å‡ºç»“æœï¼š

```txt
ç¬¬0æ•°å‡ºç°äº† 142982æ¬¡
ç¬¬1æ•°å‡ºç°äº† 142916æ¬¡
ç¬¬2æ•°å‡ºç°äº† 142898æ¬¡
ç¬¬3æ•°å‡ºç°äº† 143203æ¬¡
ç¬¬4æ•°å‡ºç°äº† 143387æ¬¡
ç¬¬5æ•°å‡ºç°äº† 142186æ¬¡
ç¬¬6æ•°å‡ºç°äº† 142428æ¬¡
ç¬¬7æ•°å‡ºç°äº† 0æ¬¡
```

æ­¤æ—¶ f4() + 1å°±æ„å»ºå‡ºäº† [1, 7] ç­‰æ¦‚ç‡éšæœº

```java
public static int g() {
  return f4() + 1;
}
```

å¦å¤–ä¸€ç§æ€è·¯ï¼š

f4 æœ‰å¦ä¸€ç§å†™æ³•ï¼Œé‡åˆ° 0 é‡åšï¼Œå°±æ¨å¯¼å‡ºäº† [1,7] ç­‰æ¦‚ç‡éšæœº

```java
// ä¿®æ”¹ f4 é‡åšæ¡ä»¶ï¼Œå°±å¯ä»¥ç›´æ¥æ¨å¯¼å‡º [1,7] ç­‰æ¦‚ç‡éšæœº
public static int g2() {
  int ans = 0;
  do {
    ans = f3();
  } while (ans == 0);
  return ans;
}

private static void testP2() {
  int[] count = new int[8];
  int loopCount = 1000000;
  for (int i=0; i<loopCount; i++) {
    int ans = g2();
    count[ans]++;
  }

  for (int i=0; i<count.length; i++) {
    System.out.println("ç¬¬" + i + "æ•°å‡ºç°äº† " + count[i] + "æ¬¡");
  }
}
```

æµ‹è¯•è¾“å‡ºç»“æœä¸ºï¼š

```java
ç¬¬0æ•°å‡ºç°äº† 0æ¬¡
ç¬¬1æ•°å‡ºç°äº† 143148æ¬¡
ç¬¬2æ•°å‡ºç°äº† 143490æ¬¡
ç¬¬3æ•°å‡ºç°äº† 142501æ¬¡
ç¬¬4æ•°å‡ºç°äº† 142098æ¬¡
ç¬¬5æ•°å‡ºç°äº† 142848æ¬¡
ç¬¬6æ•°å‡ºç°äº† 142839æ¬¡
ç¬¬7æ•°å‡ºç°äº† 143076æ¬¡
```

## å¯¹æ•°å™¨çš„ä½¿ç”¨

å¯¹æ•°å™¨æ˜¯é€šè¿‡ç”¨å¤§é‡æµ‹è¯•æ•°æ®æ¥éªŒè¯ç®—æ³•æ˜¯å¦æ­£ç¡®çš„ä¸€ç§æ–¹å¼ã€‚åœ¨ç®—æ³•ç¬”è¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸åªèƒ½ç¡®å®šæˆ‘ä»¬å†™å‡ºçš„ç®—æ³•åœ¨é€»è¾‘ä¸Šæ˜¯å¤§è‡´æ­£ç¡®çš„ï¼Œä½†æ˜¯è°ä¹Ÿä¸èƒ½ä¸€æ¬¡æ€§ä¿è¯ç»å¯¹çš„æ­£ç¡®ã€‚ç‰¹åˆ«æ˜¯å¯¹äºä¸€äº›å¤æ‚çš„é¢˜ç›®ï¼Œä¾‹å¦‚è´ªå¿ƒç®—æ³•ï¼Œæˆ‘ä»¬å¾€å¾€æ— æ³•åœ¨æœ‰é™æ—¶é—´å†…ç”¨æ•°å­¦å…¬å¼æ¥æ¨å¯¼è¯æ˜æˆ‘ä»¬ç¨‹åºçš„æ­£ç¡®æ€§ã€‚è€Œä¸”åœ¨çº¿çš„OJä¸€èˆ¬åªä¼šç»™å‡ºæœ‰æ•°çš„å‡ ä¸ªç®€å•çš„`samples`ï¼Œå¯èƒ½æˆ‘ä»¬çš„ç®—æ³•åœ¨è¿™äº›ç®€å•çš„`samples`å¶ç„¶é€šè¿‡äº†ï¼Œä½†æ˜¯åœ¨ä¸€äº›å¤æ‚çš„`samples`å¤„å´å‡ºç°äº†é—®é¢˜ã€‚è¿™æ—¶æˆ‘ä»¬æ— æ³•ä½¿ç”¨å¤æ‚çš„`samples`æ¥åˆ†æè°ƒè¯•æˆ‘ä»¬çš„ä»£ç ï¼Œäººå·¥è®¾è®¡æ ·ä¾‹æ¥æµ‹è¯•ä»£ç çš„æ•ˆç‡åˆå¤ªä½ï¼Œè€Œä¸”ä¸èƒ½ç¡®ä¿è€ƒè™‘å„ç§ç‰¹æ®Šæƒ…å†µã€‚å› æ­¤ï¼Œèƒ½éšæœºäº§ç”Ÿä¸åŒæƒ…å†µçš„æ•°æ®çš„å¯¹æ•°å™¨å°±æ´¾ä¸Šäº†ç”¨åœºã€‚

å¯¹æ•°å™¨ï¼Œç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ä¸€ä¸ªç»å¯¹æ­£ç¡®çš„æ–¹æ³•å’Œèƒ½äº§ç”Ÿå¤§é‡éšæœºæ ·ä¾‹çš„éšæœºå™¨çš„ç»„åˆã€‚

æ¯”å¦‚æˆ‘ä»¬å‰é¢å®ç°çš„æ’åºï¼Œæˆ‘ä»¬å¹¶ä¸ç¡®è®¤æˆ‘ä»¬å®ç°çš„ç®—æ³•æ˜¯å¦æ­£ç¡®ï¼Ÿæ­¤æ—¶å°±å¯ä»¥é€šè¿‡å¯¹æ•°å™¨è¿›è¡Œè§£å†³ã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š

```java
package com.anzhi;

/**
 * ç¼–å†™ä¸€ä¸ªå¯¹æ•°å™¨ï¼Œç”¨æ¥éªŒè¯ä¹‹å‰çš„æ’åºç®—æ³•çš„æ­£ç¡®æ€§ã€‚
 * å¯¹æ•°å™¨ï¼Œç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ä¸€ä¸ªç»å¯¹æ­£ç¡®çš„æ–¹æ³•å’Œèƒ½äº§ç”Ÿå¤§é‡éšæœºæ ·ä¾‹çš„éšæœºå™¨çš„ç»„åˆã€‚
 */
public class LogarithmDemo {
    public static void main(String[] args) {
        int maxLength = 5;
        int maxValue = 1000;
        int loopTimes = 10000;

        for (int i = 0; i < loopTimes; i++) {
            int[] arr = lenRandomAndValueRandom(maxLength, maxValue);
            int[] arr2 = copyArray(arr);
            
            // å¤‡ä»½å…ƒç´ 
            int[] arrBack = copyArray(arr);
            int[] arr2Back = copyArray(arr2);
            // ä½¿ç”¨æ’åº
            selectSortArr(arr);
            insertionSort2(arr2);
            if (!isSorted(arr)) {
                System.out.println("é€‰æ‹©æ’åºé”™è¯¯");
                printArr(arrBack);
                break;
            }
            if (!isSorted(arr2)) {
                System.out.println("æ’å…¥æ’åºé”™è¯¯");
                printArr(arr2Back);
                break;
            }
        }
    }

    // ç¼–å†™é•¿åº¦ã€å€¼éƒ½éšæœºçš„ä¸€ä¸ªæ•°ç»„
    public static int[] lenRandomAndValueRandom(int maxLength, int maxValue) {
        int len = (int) Math.random() * maxLength;
        int[] arr = new int[len];

        for (int i = 0; i < len; i++) {
            arr[i] = (int) Math.random() * maxValue;
        }
        return arr;
    }

    // æ‹·è´æ•°ç»„
    public static int[] copyArray(int[] arr) {
        int[] ans = new int[arr.length];
        for (int i = 0; i < arr.length; i++) {
            ans[i] = arr[i];
        }
        return ans;
    }

    // åˆ¤æ–­æ•°ç»„æ˜¯å¦ç›¸ç­‰
    // è¿™ä¸ªæ–¹æ³•çš„å‰ææ˜¯ arr1 å’Œ arr2 ç›¸ç­‰
    public static boolean isSorted(int[] arr) {
        if (arr.length < 2) {
            return true;
        }
        int maxValue = arr[0];
        for (int i = 1; i < arr.length; i++) {
            if (maxValue > arr[i]) {
                return false;
            }
            maxValue = Math.max(maxValue, arr[i]);
        }
        return true;
    }
}
```

ä¸Šé¢çš„æ’åºç®—æ³•ä½¿ç”¨çš„æ˜¯å‰é¢ç« èŠ‚å®ç°çš„æ’åºç®—æ³•ã€‚æ­¤æ—¶æˆ‘ä»¬æ•…æ„æ”¹ä¸€ä¸‹æ’åºç®—æ³•ï¼Œè®©å…¶å‡ºé”™ï¼š

```java

// å¯¹æ•°ç»„è¿›è¡Œæ’åº
private static void selectSortArr(int[] arr) {
  // è€ƒè™‘è¾¹ç•Œè°ƒèŠ‚ï¼Œä¸ç”¨æ’åºç›´æ¥è¿”å›
  if (arr == null || arr.length < 2) {
    return;
  }

  // æŒ‰ç…§ä¹‹å‰çš„æƒ³æ³•ï¼Œå¼€å§‹æ‰¾æœ€å°å€¼
  // 0 ï½ N-1;
  // 1 ï½ N-1;
  // 2 ï½ N-1;
  int N = arr.length;
  for (int i = 0; i < N - 1; i++) {
    // 0 ~ N-1
    // 1 ~ N-1
    // i ~ N-1
    // ä»ä¸‹æ ‡ä¸º i çš„å¼€å§‹å¾ªç¯ï¼Œå› æ­¤ï¼Œæœ€å°å€¼çš„ä¸‹æ ‡æ˜¯ 
    int minNumIndex = i;
    // éå†å¼€å§‹æ‰¾æœ€å°å€¼, å› ä¸ºä¸€æ—¦å·¦è¾¹ç¡®è®¤ä¸€ä¸ªæœ€å°å€¼åï¼Œå°±ä¸ä¼šå†åŠ¨å®ƒï¼Œå› æ­¤
    for (int j = i + 1; j < N; j++) {
      // éå†æ‰€æœ‰å€¼ï¼Œæ‰¾åˆ°æœ€å°å€¼
      // minNumIndex = arr[j] < arr[minNumIndex] ? j : minNumIndex;
      minNumIndex = arr[j] < arr[minNumIndex] ? minNumIndex : j;
    }
    // æ‰¾åˆ°æœ€æœ€å°å€¼ä¹‹åè¦è¿›è¡Œæ•°æ®äº¤æ¢
    swapData(arr, i, minNumIndex);
  }
}
```

æµ‹è¯•è¾“å‡ºç»“æœï¼š

```txt
é€‰æ‹©æ’åºé”™è¯¯
987 299 113 445 576 635 321 347 861 596 157 831 338 711 534 992 434 546 60 834 231 870 16 
```

å¯ä»¥æ‰“å°å‡ºæµ‹è¯•æ¡ˆåˆ—ã€‚ç„¶åé’ˆå¯¹æµ‹è¯•æ¡ˆä¾‹æˆ‘ä»¬å¯ä»¥è¿›è¡Œ debug æ’æŸ¥é—®é¢˜ã€‚å¦‚æœå¯¹äºè¿™ä¸ªæµ‹è¯•æ¡ˆä¾‹è§‰å¾—å¤ªé•¿ï¼Œæˆ‘ä¹ˆå¯ä»¥é€šè¿‡ä¿®æ”¹ maxLength æ¥æ”¹å˜æµ‹è¯•æ¡ˆä¾‹çš„æ•°ç»„å…ƒç´ ã€‚

æ¯”å¦‚å°† maxLength æ”¹ä¸º 5ï¼Œå†æ¬¡æµ‹è¯•

```txt
é€‰æ‹©æ’åºé”™è¯¯
947 376 570 207 
```

